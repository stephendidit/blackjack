<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>Black Attempt</title>
<!-- <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" /> -->
<!-- <link rel="stylesheet" type="text/css" href="css/main.css" /> -->
</head>
<body>


    <script src="https://code.jquery.com/jquery-2.2.3.min.js"></script>
    <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.2/js/tether.min.js"></script>
    <script src="https://cdn.rawgit.com/twbs/bootstrap/v4-dev/dist/js/bootstrap.js" crossorigin="anonymous"></script>
    <script src="https://use.fontawesome.com/343cc4bbfb.js"></script>
    <script>

    function xDealer(){
      
    }






    var deck = []
    symbols = ['h','s','c','d'];
    values = [['a',1],[2,2],[3,3],[4,4],[5,5],[6,6],[7,7],[8,8],[9,9],[10,10],['j',10],['q',10],['k',10]];

      var i = 0
      symbols.forEach(function (s){ // for each symbol
        values.forEach(function(v){ // for each value
          deck[i] = []; // make an element that's also an array for the new card, in the position of the current index
          deck[i][0] = s + v[0]; // the the new element/array's first element = symbol + value[0]
          deck[i][1] = v[1]; // the new element/array's second element = value[1]
          i++; // increase the index
        });
      });

    // shuffle the cards each time you draw, so that you can't cheat by just seeing the next in the deck
    function shuffle_draw(array) { // https://github.com/coolaj86/knuth-shuffle , http://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array
      var currentIndex = array.length, temporaryValue, randomIndex;

      // While there remain elements to shuffle...
        while (0 !== currentIndex) {

          // Pick a remaining element...
          randomIndex = Math.floor(Math.random() * currentIndex);
          currentIndex -= 1;

          // And swap it with the current element.
          temporaryValue = array[currentIndex];
          array[currentIndex] = array[randomIndex];
          array[randomIndex] = temporaryValue;


        }
      return card = deck.pop(); // removes the last card in the array and returns it
    }

    // dealer_hand = [["c10",10],["a",1],["c10",10]]
    dealer_hand = [];
    
    function dealerDraw() { 
      dealer_hand.push(shuffle_draw(deck)); 
    }

    var sometotal = 0

    function total(player){
      var total = 0
      var aces = 0
      dealer_hand.forEach(function (element){
        if (element[1] == 1) {
          aces += 1;
        } else {
          total += element[1];
        }
      });
      while (aces > 0){
        if ((total + 11) > 21){
          total +=1;
        } else {
          total += 11;
        }
        aces--;
      }

      // console.log(String(dealer_hand));
      // console.log( "total: " + total )
      sometotal = total;
      return "total: " + total;
    }

    console.log(sometotal);
    while (sometotal <= 17) {
      dealerDraw();
      total(dealer_hand); 
    }
    console.log("finally is..." + total(dealer_hand));
    console.log("the hand is..." + String(dealer_hand))
    </script>

</body>
</html>